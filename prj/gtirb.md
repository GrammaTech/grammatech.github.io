---
layout: prj
tags: oss
title: GTIRB
link: https://github.com/grammatech/gtirb
support:
  agencies:
  - the Navy
  - the Office of Naval Research
  contracts:
  - N68335-17-C-0700
brief: |
    An intermediate representation for binary analysis and rewriting.
    GTIRB seeks to be an LLVM-IR for reverse engineering.
---

GTIRB is GrammaTech's Intermediate Representation for Binary analysis
and rewriting.  It seeks to be for binaries what LLVM is for source
allowing researchers and developers to compose tools and leverage each
other's work. GTIRB is described in a [blog][], [whitepaper][],
[tutorial][], and in its [manual][].  GTIRB is a relatively simple
data structure (shown below).

<center class="gt-smaller-on-small">
  <!-- <img class="w3-round" src="{{ "/img/gtirb.svg"|url }}" width="80%"> -->
  {% include '../img/gtirb.svg' %}
</center>

The GTIRB data structure tries to structurally require the minimal
analysis results that are required for binary analysis and rewriting.
All other analysis results and properties can be stored in AuxData
tables (there are a large number of [standard AuxData tables][]).
GTIRB is generated by GrammaTech's [DDisasm][] best-in-class
reassembleable disassembler.  Both GTIRB and DDisasm are open source
software.

## GTIRB Ecosystem

A growing ecosystem of tools, libraries, analyses, and transforms are
emerging that emit and consume GTIRB:

<center>
  <img src="{{ "/img/gtirb-ecosystem.svg"|url }}" class="gt-smaller-on-small">
  <!-- {% include '../img/gtirb-ecosystem.svg' %} -->
</center>

### Open-Source GTIRB Repositories
GrammaTech continues to release and maintain foundational GTIRB
tooling as open-source software.

<center>

| Repository                       | Description                                                         |
|----------------------------------|---------------------------------------------------------------------|
| [GTIRB][]                        | Intermediate Representation for Binaries                            |
| [DDisasm][]                      | Fast and accurate disassembler which produces GTIRB                 |
| [GTIRB-PPrinter][]               | Pretty print GTIRB to assembler or a binary executable              |
| [gtirb-rewriting][]              | Python API for rewriting GTIRB files                                |
| [gtirb-functions][]              | APIs for working with functions in GTIRB files                      |
| [gtirb-capstone][]               | Integration with the [Capstone][] decoder                           |
| [gtirb-types][]                  | APIs for working with types in GTIRB files                          |
| [gtirb-stack-stamp][]            | Example hardening transform over GTIRB                              |
| [GTIRB-VSCode][]                 | VSCode extension to read, navigate, and (re)write GTIRB files       |
| [Retypd][]                       | Binary type analysis                                                |
| [GTIRB-ddisasm-retypd][]         | DDisasm front-end for Retypd                                        |
| [GTIRB-function-prototypes][]    | Map known functions to their prototypes                             |
| [GTIRB-dynamic-function-names][] | Recover dynamic function names in a binary from linking information |
| [gtirb-ghidra-plugin][]          | Import/Export GTIRB files to/from Ghidra                            |

</center>

### Proprietary GTIRB Tools

GrammaTech maintains the following proprietary GTIRB transforms which
may be used to secure binaries in production settings and are designed
to easily slot into existing CI/CD or Dev-Sec-Ops pipelines.

| Tool             | Description                                                                            |
|------------------|----------------------------------------------------------------------------------------|
| [Reduce][]       | Remove unused code from a binary either conservatively or aggressively                 |
| Expr             | Add TSL Semantics to instructions in GTIRB                                             |
| Live Reg         | Live register analysis for GTIRB                                                       |
| StackVar         | Stack variable analysis for GTIRB                                                      |
| RegParam         | Parameter analysis for GTIRB                                                           |
| iBranch          | Indirect branch target annotation for GTIRB                                            |
| [to-static][]    | Rewrite a binary and its dynamic libraries into a single statically linked executable |
| merge            | Merge two GTIRB files, used by [to-static][]                                           |
| GLibC to MUSL    | Replace GLibC with MUSL in a binary, used by [to-static][]                             |
| Devirt           | Devirtualize indirect branches to direct branches                                      |
| PGO              | Profile guided optimization in GTIRB                                                   |
| Peephole         | Peephole replacement in GTIRB                                                          |
| shuffle          | Shuffle function layout in GTIRB                                                       |
| delta-debug      | Delta-debugging reduction of GTIRB                                                     |
| LEP              | Instrument GTIRB for lossy edge profiling to support graybox fuzz testing              |
| Twitcher         | Memory access protection in GTIRB                                                      |
| binary-asan      | Address Sanitizer for GTIRB                                                            |
| prof-viz         | Profile visualization over GTIRB                                                       |
| GTIRB-server     | REST server for GTIRB analyses and transforms                                          |
| BED              | [Byte-Equivalent Decompilation][] for re-compilable decompilation                      |
| Fuzzer Framework | Fuzz testing framework                                                                 |
| function-names   | ML-driven identification of known functions in GTIRB                                   |
| libsweep         | Pattern-driven identification of known functions in GTIRB                              |

[Reduce]: {{ "/prj/binary-reduce"|url }}
[blog]: https://blogs.grammatech.com/open-source-tools-for-binary-analysis-and-rewriting
[whitepaper]: https://arxiv.org/abs/1907.02859
[manual]: https://grammatech.github.io/gtirb
[tutorial]: https://grammatech.github.io/gtirb/md_stack-stamp.html
[standard AuxData tables]: https://grammatech.github.io/gtirb/md__aux_data.html#sanctioned-auxdata-tables
[GTIRB]: {{ "https://github.com/grammatech/gtirb" }}
[DDisasm]: {{ "/prj/ddisasm"|url }}
[GTIRB-PPrinter]: https://github.com/grammatech/gtirb-pprinter
[gtirb-rewriting]: https://github.com/grammatech/gtirb-rewriting
[gtirb-functions]: https://github.com/grammatech/gtirb-functions
[gtirb-types]: https://github.com/grammatech/gtirb-types
[gtirb-ghidra-plugin]: https://github.com/grammatech/gtirb-ghidra-plugin
[gtirb-stack-stamp]: https://github.com/grammatech/gtirb-stack-stamp
[gtirb-capstone]: https://github.com/GrammaTech/gtirb-capstone
[GTIRB-VSCode]: {{ "/prj/gtirb-vscode"|url }}
[Capstone]: https://www.capstone-engine.org
[Retypd]: https://github.com/grammatech/retypd
[GTIRB-ddisasm-retypd]: https://github.com/grammatech/GTIRB-ddisasm-retypd
[GTIRB-function-prototypes]: https://github.com/grammatech/gtirb-function-prototypes
[GTIRB-dynamic-function-names]: https://github.com/grammatech/gtirb-dynamic-function-names
[to-static]: {{ "/prj/to-static"|url }}
[Byte-Equivalent Decompilation]: http://storm-country.com/blog/evo-deco

## Rewriting binaries with GTIRB

A good entry point for those new to GTIRB is the Python rewriting API,
[gtirb-rewriting][].  The following video introduces GTIRB Rewriting
and walks through the creation of an example binary transform from
scratch.

<center>
<div class="w3-hide-medium w3-hide-large">
<video width=300px height=187px playsinline controls muted>
<source src="https://static.grammatech.com/research/gtirb-rewriting.mp4#t=0.01" type="video/mp4">
</video>
</div>
<div class="w3-hide-small">
<video width=800px height=500px playsinline controls muted>
<source src="https://static.grammatech.com/research/gtirb-rewriting.mp4#t=0.01" type="video/mp4">
</video>
</div>
</center>
